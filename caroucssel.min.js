!function(t,e){if("function"==typeof define&&define.amd)define("caroucssel",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var n={};e(n),t.caroucssel=n}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;var d=function(){function e(){var t=this;a(this,e),this._d=null,window.addEventListener("resize",function(){return t._d=null})}return l(e,[{key:"dimensions",get:function(){var t,e,n,i,o,r,a,s;return this._d=this._d||(a=document.createElement("div"),s=document.createElement("div"),document.body.appendChild(s),s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.visibility="hidden",s.appendChild(a),a.style.width="100%",a.style.height="200px",s.style.width="200px",s.style.height="150px",s.style.overflow="hidden",e=a.offsetWidth,s.style.overflow="scroll",t=e-(n=e===(n=a.offsetWidth)?s.clientWidth:n),a.style.width="200px",a.style.height="100%",s.style.width="150px",s.style.height="200px",s.style.overflow="hidden",o=a.offsetHeight,s.style.overflow="scroll",i=o-(r=o===(r=a.offsetHeight)?s.clientHeight:r),document.body.removeChild(s),{width:t,height:i}),this._d}}]),e}();function f(o,r){var a;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this;window.clearTimeout(a),a=setTimeout(function(){return o.apply(i,e)},r)}}function p(t,e){var n=document.createElement("div");return n.innerHTML=t(e),n.firstChild}var v=/^caroucssel-[0-9]*$/,b="has-visible-scrollbar",y="has-invisible-scrollbar",m="scroll",g="resize",_={hasButtons:!1,buttonClassName:"button",buttonTemplate:function(t){var e=t.className,n=t.controls,i=t.label,o=t.title;return'<button type="button" class="'.concat(e,'" aria-label="').concat(i,'" title="').concat(o,'" aria-controls="').concat(n,'">\n\t\t<span>').concat(i,"</span>\n\t</button>")},buttonPrevious:null,buttonNext:null,hasPagination:!1,paginationClassName:"pagination",paginationLabel:function(t){var e=t.index;return"".concat(e+1)},paginationTitle:function(t){var e=t.index;return"Go to ".concat(e+1,". item")},paginationTemplate:function(t){var e=t.className,r=t.controls,a=t.pages,s=t.label,l=t.title;return'<ul class="'.concat(e,'">\n\t\t').concat(a.map(function(t,e){var n={index:e,page:t,pages:a},i=s(n),o=l(n);return'<li>\n\t\t\t\t<button type="button" aria-controls="'.concat(r,'" aria-label="').concat(o,'" title="').concat(o,'">\n\t\t\t\t\t<span>').concat(i,"</span>\n\t\t\t\t</button>\n\t\t\t</li>")}).join(""),"\n\t</ul>")},hasScrollbars:!1,onScroll:null},x={className:"is-previous",label:"Previous",title:"Go to previous"},w={className:"is-next",label:"Next",title:"Go to next"},S=0,P=null,e=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a(this,n),!(t&&t instanceof HTMLElement))throw new Error('Carousel needs a dom element but "'.concat(r(t),'" was passed.'));this._el=t,P=P||new d,S++,t.id=t.id||"caroucssel-".concat(S),this._id=t.id,this._options=c({},_,{},e),this._options.buttonPrevious=c({},x,{},e.buttonPrevious),this._options.buttonNext=c({},w,{},e.buttonNext),this._items=h(this.el.children),this._addButtons(),this._addPagination(),this._updateScrollbars(),this._isSmooth=!1,this.index=this._options.index||[0],this._isSmooth=!0,this._onScroll=f(this._onScroll.bind(this),25),this._onResize=f(this._onResize.bind(this),25),t.addEventListener(m,this._onScroll),window.addEventListener(g,this._onResize)}return l(n,[{key:"destroy",value:function(){var t=this.el,e=t.classList;v.test(t.id)&&t.removeAttribute("id"),e.remove(b),e.remove(y),this._removeButtons(),this._removePagination(),t.removeEventListener(m,this._onScroll),window.removeEventListener(g,this._onResize)}},{key:"update",value:function(){var t=this.index;this._items=h(this.el.children),this._updateButtons(t),this._updatePagination(t),this._updateScrollbars()}},{key:"_updateScrollbars",value:function(){if(!this._options.hasScrollbars){var t=0===P.dimensions.height;if(t!==this._hasInvisbleScrollbar){var e=this.el.classList;e.add(t?y:b),e.remove(t?b:y),this._hasInvisbleScrollbar=t}}}},{key:"_addButtons",value:function(){var t=this,e=this.el,n=this.id,i=this._options;if(i.hasButtons){var o=i.buttonTemplate,r=i.buttonClassName,a=u([i.buttonPrevious,i.buttonNext].map(function(t){return p(o,c({},t,{controls:n,className:"".concat(r," ").concat(t.className)}))}),2),s=a[0],l=a[1];s.onclick=function(){return t.index=[t.index[0]-1]},e.parentNode.appendChild(s),this._previous=s,l.onclick=function(){return t.index=[t.index[0]+1]},e.parentNode.appendChild(l),this._next=l,this._updateButtons()}}},{key:"_updateButtons",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.index;if(this._options.hasButtons){var n=this.items,i=this._previous,o=this._next;i.disabled=0===e[0],o.disabled=e[e.length-1]===n.length-1}}},{key:"_removeButtons",value:function(){[this._previous,this._next].forEach(function(t){t&&(t.onclick=null,t.parentNode.removeChild(t))})}},{key:"_addPagination",value:function(){var n=this,t=this._options;if(t.hasPagination){var e=this.el,i=this.id,o=this.pages,r=t.paginationTemplate,a=t.paginationClassName,s=t.paginationLabel,l=t.paginationTitle,u=p(r,{pages:o,controls:i,className:a,label:s,title:l}),c=h(u.querySelectorAll("button")).map(function(t,e){return t.onclick=function(){return n.index=o[e]},t});e.parentNode.appendChild(u),this._pagination=u,this._paginationButtons=c,this._updatePagination()}}},{key:"_updatePagination",value:function(t){var e=0<arguments.length&&void 0!==t?t:this.index;if(this._options.hasPagination){var n=this.pages,i=this._paginationButtons,o=e[e.length-1],r=n.findIndex(function(t){return t.includes(o)});i.forEach(function(t,e){return t.disabled=e===r})}}},{key:"_removePagination",value:function(){var t=this._pagination;(this._paginationButtons||[]).forEach(function(t){t.onclick=null,t.parentNode.removeChild(t)}),t&&t.parentNode.removeChild(t)}},{key:"_onScroll",value:function(t){var e=this.index,n=this._options;this._updateButtons(e),this._updatePagination(e);var i=n.onScroll;i&&i({index:e,type:m,target:this,originalEvent:t})}},{key:"_onResize",value:function(){var t=this.index;this._updateButtons(t),this._removePagination(),this._addPagination(),this._updateScrollbars()}},{key:"el",get:function(){return this._el}},{key:"id",get:function(){return this._id}},{key:"index",get:function(){for(var t=this.el,e=this.items,n=e.length,i=t.clientWidth,o=t.getBoundingClientRect().left,r=[],a=0;a<n;a++){var s=e[a].getBoundingClientRect(),l=s.left,u=s.width;0<=(l-=o)+u/2&&l<i-u/2&&r.push(a)}return 0===r.length?[0]:r},set:function(t){var e=this.el,n=this.items,i=n.length;if(0!==i){var o=t[0]||0;o=Math.max(Math.min(o,i-1),0);var r=e.scrollLeft,a={left:n[o].offsetLeft};if(r!==a.left){var s=this._isSmooth?"smooth":"auto";e.scrollTo(c({},a,{behavior:s}))}}}},{key:"items",get:function(){return this._items}},{key:"pages",get:function(){var t=this.el,e=this.items,o=t.clientWidth,r=[[]];return e.forEach(function(t,e){var n=t.offsetLeft,i=Math.floor(n/o);r[i]||r.push([]),r[i].push(e)}),r}}]),n}();(t.Carousel=e).resetInstanceCount=function(){return S=0}});